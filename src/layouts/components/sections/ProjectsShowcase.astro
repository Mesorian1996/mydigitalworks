---
import CustomButton from "@/components/CustomButton.astro";
import OptimizedImage from "@/components/utilities/OptimizedImage.astro";

const projects = [
  {
    title: "Limani Fliesenleger",
    subtitle: "Handwerk · Lokal",
    story:
      "Limani Fliesenleger ist ein lokaler Familien-Handwerksbetrieb, der seit 2017 hochwertige Fliesen- und Sanierungsarbeiten umsetzt – mit dem Anspruch, aus jeder Immobilie ein Zuhause zu machen. Diese Qualität sollte sich auch online widerspiegeln. Wir haben den digitalen Auftritt aufgebaut: eine klare, vertrauensstarke Website, ein optimiertes Google-Unternehmensprofil sowie eine professionelle Angebots- und Rechnungserstellung, damit Anfragen und Abwicklung durchgängig sauber funktionieren.",
    deliverables: [
      "Website mit klarer Leistungsstruktur",
      "Google-Unternehmensprofil & lokale Sichtbarkeit",
      "Angebots- und Rechnungs-Setup",
    ],
    tags: ["SEO", "UI/UX", "Performance", "Local"],
    url: "https://limani-fliesenleger.de",
    slides: [
      "/images/portfolio/Limani_Fliesenleger_1.webp",
      "/images/portfolio/Limani_Fliesenleger_2.webp",
      "/images/portfolio/Limani_Fliesenleger_3.webp",
    ],
  },
  {
    title: "Circle of Life BJJ",
    subtitle: "Academy · Sport",
    story:
      "Marvin Beck ist BJJ-Schwarzgurt, Instandhaltungsvorbereiter bei der BASF und Familienvater. Nach 14 Jahren Erfahrung hat er sich den Traum einer eigenen Akademie erfüllt. Wir haben eine repräsentative Website entwickelt, die den Einstieg leicht macht und gezielt Probetrainings-Anfragen generiert – mit dem Ziel, die Matte konstant zu füllen.",
    deliverables: [
      "Repräsentative Academy-Website",
      "Klare CTA für Probetraining",
      "Mobile Performance & Sichtbarkeit",
    ],
    tags: ["UI/UX", "Performance", "SEO"],
    url: "https://circleoflife-bjj.de",
    slides: [
      "/images/portfolio/Circleoflife_bjj_1.webp",
      "/images/portfolio/Circleoflife_bjj_2.webp",
      "/images/portfolio/Circleoflife_bjj_3.webp",
    ],
  },
];
---

<section
  id="portfolio"
  class="bg-gradient-to-b from-white via-[#f7f2ea] to-white py-20 md:py-28">
  <div class="container space-y-12">
    <div class="space-y-3 text-center text-[#0a1a2f]" data-aos="fade-up">
      <p class="text-sm uppercase tracking-[0.28em] text-[#476783]">Portfolio</p>
      <h2 class="text-h1-sm font-bold leading-tight md:text-h1">
        Sichtbare Ergebnisse für lokale Marken.
      </h2>
      <p class="text-base text-[#1f2a35]/85 md:text-lg">
        Klar strukturiert, schnell verständlich, auf Conversion optimiert – mit
        vollständigen Screens ohne Cropping.
      </p>
    </div>

    <div class="mx-auto grid max-w-7xl grid-cols-1 justify-items-center gap-10 lg:grid-cols-2">
      {projects.map((project, idx) => (
        <article
          class="group relative flex h-full w-full flex-col overflow-hidden rounded-3xl border border-[#d7c5aa]/70 bg-gradient-to-br from-white to-[#f7f0e4] p-8 shadow-[0_25px_90px_-55px_rgba(0,0,0,0.35)] transition duration-500 hover:-translate-y-2 hover:border-[#f7b97d]/80 hover:shadow-[0_35px_120px_-65px_rgba(247,185,125,0.55)] focus-within:-translate-y-2 focus-within:border-[#f7b97d]/80 focus-within:shadow-[0_35px_120px_-65px_rgba(247,185,125,0.55)]"
          data-aos="fade-up"
          data-aos-delay={idx * 140}
          tabindex="0">
          <div class="space-y-6">
            <div class="relative aspect-[16/9] overflow-hidden rounded-2xl border border-[#d7c5aa]/80 bg-white">
              <div class="portfolio-track group-hover:pause group-focus:pause">
                {project.slides.map((slide) => (
                  <div class="portfolio-slide p-2 md:p-3">
                    <OptimizedImage
                      src={slide}
                      alt={`${project.title} Screenshot`}
                      loading="lazy"
                      width={1600}
                      height={900}
                      sizes="(min-width: 1024px) 640px, 94vw"
                      class="h-full w-full object-contain transition duration-700 group-hover:scale-[1.01] group-focus:scale-[1.01]"
                    />
                  </div>
                ))}
              </div>
            </div>

            <div class="space-y-3 text-[#0a1a2f]">
              <h3 class="text-3xl font-bold tracking-tight md:text-[2.1rem]">
                {project.title}
              </h3>
              {project.subtitle && (
                <p class="text-xs uppercase tracking-[0.22em] text-[#476783]/70">
                  {project.subtitle}
                </p>
              )}
              <div class="space-y-2 text-sm leading-relaxed text-[#1f2a35]/85 md:text-base">
                <p>{project.story}</p>
              </div>
              {project.deliverables && (
                <ul class="space-y-1 text-sm text-[#1f2a35]/85">
                  {project.deliverables.map((item) => (
                    <li class="flex items-start gap-2">
                      <span class="mt-1 h-2 w-2 rounded-full bg-[#f7b97d]" />
                      <span>{item}</span>
                    </li>
                  ))}
                </ul>
              )}
              <div class="flex flex-wrap gap-2">
                {project.tags.map((tag) => (
                  <span class="rounded-full border border-[#d7c5aa]/70 bg-white/70 px-3 py-1 text-xs uppercase tracking-[0.12em] text-[#0f1c28]/75 backdrop-blur-sm">
                    {tag}
                  </span>
                ))}
              </div>
              <div class="flex items-center gap-3 text-sm text-[#476783] transition group-hover:text-[#0a1a2f] group-focus:text-[#0a1a2f]">
                <CustomButton
                  label="Case ansehen"
                  url={project.url}
                  hoverEffect="creative-fill"
                  class="btn-outline border-[#476783] text-[#476783] hover:bg-[#476783] hover:text-white focus-visible:ring-4 focus-visible:ring-[#f7b97d]/40"
                />
                <span class="uppercase tracking-[0.18em] text-[#1f2a35]/60">Live</span>
              </div>
            </div>
          </div>
          <div class="pointer-events-none absolute inset-0 opacity-0 transition duration-500 group-hover:opacity-100 group-focus:opacity-100">
            <div class="absolute inset-0 bg-[radial-gradient(circle_at_30%_20%,rgba(247,185,125,0.22),transparent_38%)]" />
          </div>
        </article>
      ))}
    </div>
  </div>
</section>
<style>
  .portfolio-track {
    display: flex;
    width: 100%;
    animation: portfolio-slide 18s ease-in-out infinite;
  }
  .portfolio-slide {
    width: 100%;
    flex: 1 0 100%;
  }
  .group:hover .portfolio-track,
  .group:focus .portfolio-track,
  .group:focus-visible .portfolio-track {
    animation-play-state: paused;
  }
  @keyframes portfolio-slide {
    0%,
    18% {
      transform: translateX(0);
    }
    25%,
    43% {
      transform: translateX(-100%);
    }
    50%,
    68% {
      transform: translateX(-200%);
    }
    75%,
    100% {
      transform: translateX(0);
    }
  }
</style>

