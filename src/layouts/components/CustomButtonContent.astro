---
const { label, title, isCreativeHoverEffect, variant, icon, hoverEffect } =
  Astro.props;

// Check if the label contain "learn more" "read more" type of text that need to add support for accessibility
let addAriaLabel = false;
if (
  label.toLowerCase().includes("learn more") ||
  label.toLowerCase().includes("read more")
) {
  addAriaLabel = true;
}

const isUnderlineSlide = hoverEffect === "underline-slide" && variant === "text";
---

{
  isUnderlineSlide ? (
    <div class="flex flex-col gap-1">
      <span class="flex items-center gap-2 text-xs font-semibold uppercase tracking-[0.18em]">
        <span set:html={label} />
        {icon && (
          <img
            src={icon}
            alt=""
            class="h-3 w-3 transition duration-300 group-hover:translate-x-1 group-hover:-translate-y-1"
            loading="lazy"
            decoding="async"
          />
        )}
      </span>
      <span class="block h-[2px] w-full origin-left scale-x-0 bg-current transition-transform duration-300 group-hover:scale-x-100"></span>
    </div>
  ) : (
    <>
      <Fragment set:html={label} />
      {addAriaLabel && <span class="sr-only" set:html={title} />}
      {isCreativeHoverEffect && <span class="hover-bg" />}
    </>
  )
}
