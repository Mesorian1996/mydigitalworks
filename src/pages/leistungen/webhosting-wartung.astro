---
import Base from "@/layouts/Base.astro";
import CustomButton from "@/components/CustomButton.astro";

const title = "Webhosting & Wartung";
const metaDescription = "Professionelles Webhosting mit maximaler Performance ✓ SSL & Backups ✓ 99,9% Uptime ✓ WordPress Wartung ✓ Für Unternehmen in Ludwigshafen & Mannheim";

// Benefits/Value Props - Premium Design
const benefits = [
  {
    title: "Maximale Performance",
    description: "Schnelle Ladezeiten durch optimierte Server und CDN. Ihre Website lädt in unter 2 Sekunden.",
    icon: "speed",
    gradientFrom: "#476783",
    gradientTo: "#648298",
    lightBg: "#e7ecf1"
  },
  {
    title: "Sicherheit inklusive",
    description: "SSL-Zertifikat, tägliche Backups und Malware-Schutz. Ihre Daten sind geschützt.",
    icon: "security",
    gradientFrom: "#f7b97d",
    gradientTo: "#efba87",
    lightBg: "#f7f2ea"
  },
  {
    title: "Proaktive Wartung",
    description: "Updates, Monitoring und technischer Support. Sie müssen sich um nichts kümmern.",
    icon: "maintenance",
    gradientFrom: "#476783",
    gradientTo: "#648298",
    lightBg: "#e7ecf1"
  }
];

// Hosting Packages
const packages = [
  {
    name: "Normal Hosting",
    price: "25 €/Monat",
    description: "Für kleinere Websites und Landingpages",
    features: [
      "Schnelle SSD-Server",
      "SSL-Zertifikat inklusive",
      "Tägliche Backups",
      "99,9% Uptime-Garantie",
      "E-Mail-Support"
    ]
  },
  {
    name: "Premium Hosting",
    price: "49 €/Monat",
    description: "Für Business-Websites mit hohem Traffic",
    features: [
      "Alles aus Normal Hosting",
      "CDN für weltweite Performance",
      "Erweiterte Sicherheit",
      "Prioritäts-Support",
      "Mini-Änderungen inklusive*"
    ],
    featured: true,
    note: "*Kleine textliche/visuelle Anpassungen. Größere Änderungen werden separat berechnet."
  }
];

// Maintenance Services
const maintenanceServices = [
  "WordPress & Plugin Updates",
  "Sicherheits-Monitoring",
  "Performance-Optimierung",
  "Backup-Verwaltung",
  "Fehleranalyse und Bugfixes",
  "Monatlicher Status-Report"
];

// FAQ Section - KOMPAKT (4 Fragen)
const faqs = [
  {
    question: "Was ist im Hosting-Paket alles enthalten?",
    answer: "Unser Hosting umfasst schnelle SSD-Server, SSL-Zertifikat, tägliche automatische Backups, 99,9% Uptime-Garantie, E-Mail-Postfächer und technischen Support. Im Premium-Paket sind zusätzlich CDN für weltweite Performance, erweiterte Sicherheitsfeatures, Prioritäts-Support und kleine Content-Änderungen enthalten. Alle technischen Updates und WordPress-Pflege übernehmen wir."
  },
  {
    question: "Wie schnell ist meine Website bei euch?",
    answer: "Durch optimierte SSD-Server, Caching und optional CDN erreichen Websites bei uns Ladezeiten unter 2 Sekunden – oft sogar unter 1 Sekunde. Das ist entscheidend: Google bevorzugt schnelle Seiten im Ranking, und 53% der mobilen Nutzer verlassen Seiten, die länger als 3 Sekunden laden. Wir monitoren die Performance kontinuierlich und optimieren bei Bedarf nach."
  },
  {
    question: "Was passiert bei technischen Problemen?",
    answer: "Bei technischen Problemen reagieren wir schnell: E-Mail-Support innerhalb von 24 Stunden (Normal) bzw. 4 Stunden (Premium). Bei kritischen Ausfällen greifen wir sofort ein. Durch tägliche Backups können wir Ihre Website im Notfall innerhalb von Stunden wiederherstellen. Proaktives Monitoring warnt uns oft schon, bevor Sie ein Problem bemerken."
  },
  {
    question: "Kann ich mein bestehendes Hosting zu euch umziehen?",
    answer: "Ja, wir übernehmen den kompletten Umzug für Sie – kostenlos! Wir migrieren Ihre Website, Datenbanken, E-Mails und Domains. Der Umzug erfolgt ohne Downtime: Die alte Seite bleibt online, bis die neue perfekt läuft. Nach dem Umzug testen wir alles gründlich. Sie müssen sich um nichts kümmern, wir koordinieren auch den Domain-Transfer mit Ihrem bisherigen Anbieter."
  }
];
---

<Base className="bg-white" title={title} description={metaDescription}>
  <!-- Hero Section -->
  <section class="bg-gradient-to-b from-white via-[#f9f2e9] to-white py-16 md:py-24">
    <div class="container grid gap-12 lg:grid-cols-2 lg:items-center">
      <div
        class="relative order-2 overflow-hidden rounded-3xl border border-[#d7c5aa]/70 bg-white shadow-[0_28px_120px_-70px_rgba(0,0,0,0.35)] lg:order-1 lg:translate-y-10"
        data-aos="fade-right">
        <!-- TODO: Replace with actual server/hosting dashboard screenshot -->
        <img
          src="/src/assets/images/leistungen/webhosting.webp"
          alt="Webhosting & Performance Dashboard"
          class="h-full w-full object-cover"
          loading="lazy"
          decoding="async"
        />
      </div>

      <div class="order-1 space-y-6 text-[#0A1A2F] lg:order-2" data-aos="fade-left" data-aos-delay="120">
        <div class="inline-flex items-center gap-3 rounded-full bg-[#476783]/10 px-3 py-1.5 text-[#476783]">
          <img
            src="/images/logo.webp"
            alt="MY Digital Works Logo"
            class="h-6 w-auto opacity-80"
            loading="lazy"
            decoding="async"
          />
          <span class="text-[11px] uppercase tracking-[0.24em]">MY Digital Works</span>
        </div>
        <h1 class="text-h1-sm font-bold leading-tight md:text-h1">{title}</h1>
        <p class="text-base text-[#1f2a35]/80 md:text-lg">
          Professionelles Hosting mit maximaler Performance und Sicherheit. Ihre Website läuft rund um die Uhr und wir kümmern uns um den Rest. Für Unternehmen in Ludwigshafen, Mannheim und der Metropolregion Rhein Neckar.
        </p>
        <div class="flex flex-wrap gap-3">
          <CustomButton
            label="Kostenloses Gespräch buchen"
            url="/#footer-with-contact"
            hoverEffect="creative-fill"
            class="btn-primary bg-[#476783] border-[#476783] text-white hover:bg-[#c9baa8] hover:border-[#c9baa8] hover:text-[#0a1a2f] effect-color-dark"
          />
          <CustomButton
            variant="text"
            hoverEffect="underline-slide"
            label="Pakete vergleichen"
            url="#packages"
            class="text-[#476783] hover:text-[#f7b97d] px-0 py-0"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Benefits Section - PREMIUM BENTOBOX -->
  <section class="bg-white py-16 md:py-24">
    <div class="container">
      <div class="mx-auto max-w-3xl space-y-4 text-center mb-12" data-aos="fade-up">
        <p class="text-sm uppercase tracking-[0.28em] text-[#476783]">Ihre Vorteile</p>
        <h2 class="text-h2-sm font-bold leading-tight text-[#0A1A2F] md:text-h2">
          Warum professionelles Hosting?
        </h2>
        <p class="text-base text-[#1f2a35]/70 md:text-lg">
          Langsame Ladezeiten kosten Kunden. Unsichere Websites schaden Ihrem Ruf. Wir sorgen für Performance, Sicherheit und Verfügbarkeit.
        </p>
      </div>

      <div class="grid gap-6 md:grid-cols-3">
        {benefits.map((benefit, idx) => (
          <article
            class="benefit-bento group relative overflow-hidden rounded-3xl border border-[#d7c5aa]/50 p-8 transition-all duration-500 hover:-translate-y-2 hover:border-[#d7c5aa] hover:shadow-[0_20px_80px_-20px_rgba(0,0,0,0.15)]"
            style={`background: linear-gradient(135deg, ${benefit.lightBg} 0%, white 100%);`}
            data-aos="fade-up"
            data-aos-delay={idx * 100}>
            
            <!-- Animated Stripe -->
            <div class="stripe-top"></div>
            
            <div class="relative z-10">
              <div
                class="mb-6 flex h-16 w-16 items-center justify-center rounded-2xl shadow-lg transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3"
                style={`background: linear-gradient(135deg, ${benefit.gradientFrom}, ${benefit.gradientTo});`}>
                <svg class="h-8 w-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  {benefit.icon === 'speed' && (
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z" />
                  )}
                  {benefit.icon === 'security' && (
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                  )}
                  {benefit.icon === 'maintenance' && (
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z" />
                  )}
                </svg>
              </div>

              <h3 class="mb-3 text-xl font-semibold text-[#0A1A2F] transition-colors duration-300 group-hover:text-[#476783]">
                {benefit.title}
              </h3>
              <p class="text-sm leading-relaxed text-[#1f2a35]/75">
                {benefit.description}
              </p>
            </div>
          </article>
        ))}
      </div>
    </div>
  </section>

  <!-- Hosting Packages -->
  <section id="packages" class="bg-gradient-to-b from-[#f9f2e9] to-white py-16 md:py-24">
    <div class="container">
      <div class="mx-auto max-w-3xl space-y-4 text-center mb-12" data-aos="fade-up">
        <p class="text-sm uppercase tracking-[0.28em] text-[#476783]">Unsere Pakete</p>
        <h2 class="text-h2-sm font-bold leading-tight text-[#0A1A2F] md:text-h2">
          Hosting-Pakete
        </h2>
        <p class="text-base text-[#1f2a35]/70 md:text-lg">
          Wählen Sie das passende Paket für Ihre Website. Jederzeit flexibel wechselbar.
        </p>
      </div>

      <div class="grid gap-8 md:grid-cols-2">
        {packages.map((pkg, idx) => (
          <div
            class:list={[
              "group flex h-full flex-col rounded-3xl border bg-white p-8 shadow-[0_24px_90px_-60px_rgba(0,0,0,0.25)] transition duration-300 relative overflow-hidden",
              pkg.featured ? "border-[#476783] ring-2 ring-[#476783]/20" : "border-[#d7c5aa]/70 hover:-translate-y-1 hover:shadow-[0_32px_110px_-70px_rgba(71,103,131,0.28)]"
            ]}
            data-aos="fade-up"
            data-aos-delay={idx * 100}>
            
            {pkg.featured && <div class="stripe-top"></div>}
            
            {pkg.featured && (
              <div class="mb-4 inline-flex items-center gap-2 self-start rounded-full bg-[#476783] px-3 py-1 text-xs font-semibold uppercase tracking-wider text-white">
                Empfohlen
              </div>
            )}
            <div class="mb-6">
              <h3 class="text-2xl font-bold text-[#0A1A2F]">{pkg.name}</h3>
              <p class="mt-2 text-sm text-[#1f2a35]/70">{pkg.description}</p>
            </div>
            <div class="mb-6">
              <div class="text-4xl font-bold text-[#476783]">{pkg.price}</div>
            </div>
            <ul class="mb-8 flex-1 space-y-3">
              {pkg.features.map(feature => (
                <li class="flex items-start gap-3 text-sm text-[#1f2a35]/80">
                  <svg class="mt-0.5 h-5 w-5 flex-shrink-0 text-[#476783]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" />
                  </svg>
                  <span>{feature}</span>
                </li>
              ))}
            </ul>
            {pkg.note && (
              <div class="mb-6 rounded-lg bg-[#476783]/5 p-3 text-xs text-[#1f2a35]/70">
                {pkg.note}
              </div>
            )}
            <CustomButton
              label="Paket buchen"
              url="/#footer-with-contact"
              hoverEffect="creative-fill"
              class:list={[
                pkg.featured
                  ? "btn-primary bg-[#476783] border-[#476783] text-white hover:bg-[#f7b97d] hover:border-[#f7b97d] hover:text-[#0a1a2f]"
                  : "btn-outline border-[#476783] text-[#476783] hover:bg-[#476783] hover:text-white"
              ]}
            />
          </div>
        ))}
      </div>
      
      <!-- CTA nach Paketen -->
      <div class="mt-16 text-center" data-aos="fade-up" data-aos-delay="300">
        <div class="mx-auto max-w-2xl space-y-4">
          <p class="text-base text-[#1f2a35]/70">
            Nicht sicher, welches Paket das richtige ist? Wir beraten Sie gerne!
          </p>
          <CustomButton
            label="Kostenlose Beratung"
            url="/#footer-with-contact"
            hoverEffect="creative-fill"
            class="btn-primary bg-[#476783] border-[#476783] text-white hover:bg-[#f7b97d] hover:border-[#f7b97d] hover:text-[#0a1a2f]"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Maintenance Services -->
  <section class="bg-white py-16 md:py-24">
    <div class="container">
      <div class="grid gap-12 lg:grid-cols-2 lg:items-start">
        <div class="space-y-6" data-aos="fade-right">
          <p class="text-sm uppercase tracking-[0.28em] text-[#476783]">Was wir tun</p>
          <h2 class="text-h2-sm font-bold leading-tight text-[#0A1A2F] md:text-h2">
            Proaktive Wartung inklusive
          </h2>
          <p class="text-base leading-relaxed text-[#1f2a35]/80 md:text-lg">
            Wir kümmern uns um alle technischen Details. Updates, Sicherheit, Performance – Sie müssen sich um nichts kümmern.
          </p>
          <ul class="space-y-3">
            {maintenanceServices.map(service => (
              <li class="flex items-start gap-3 text-[#1f2a35]/80">
                <svg class="mt-1 h-5 w-5 flex-shrink-0 text-[#476783]" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                <span>{service}</span>
              </li>
            ))}
          </ul>
          
          <CustomButton
            label="Mehr über Wartung erfahren"
            url="/#footer-with-contact"
            hoverEffect="creative-fill"
            class="btn-outline border-[#476783] text-[#476783] hover:bg-[#476783] hover:text-white"
          />
        </div>

        <div class="relative" data-aos="fade-left" data-aos-delay="120">
          <div class="overflow-hidden rounded-2xl border border-[#d7c5aa]/70 bg-white shadow-[0_24px_90px_-60px_rgba(0,0,0,0.25)]">
            <!-- TODO: Replace with actual performance/monitoring screenshot -->
            <img
              src="https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&auto=format&fit=crop"
              alt="Performance Monitoring"
              class="aspect-[4/3] w-full object-cover"
              loading="lazy"
              decoding="async"
            />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ Section - KOMPAKT -->
  <section class="bg-gradient-to-b from-[#f9f2e9] to-white py-16 md:py-24">
    <div class="container">
      <div class="mx-auto max-w-4xl space-y-10">
        <div class="space-y-3 text-center text-[#0a1a2f]" data-aos="fade-up">
          <p class="text-sm uppercase tracking-[0.28em] text-[#476783]">Häufige Fragen</p>
          <h2 class="text-h2-sm font-bold leading-tight md:text-h2">
            Hosting & Wartung FAQ
          </h2>
          <p class="text-base text-[#1f2a35]/70 max-w-2xl mx-auto">
            Die wichtigsten Antworten zu Performance, Sicherheit und Support.
          </p>
        </div>

        <div class="space-y-4" data-aos="fade-up" data-aos-delay="100">
          {faqs.map((faq, index) => (
            <details
              class="group rounded-2xl border border-[#d7c5aa]/50 bg-gradient-to-br from-white to-[#f9f2e9]/30 p-6 transition-all duration-300 hover:border-[#d7c5aa] hover:shadow-lg [&[open]]:border-[#476783] [&[open]]:bg-white [&[open]]:shadow-xl"
              data-aos="fade-up"
              data-aos-delay={index * 50}>
              <summary class="flex cursor-pointer items-start justify-between gap-4 text-left font-semibold text-[#0A1A2F] transition-colors duration-200 group-hover:text-[#476783] [&::-webkit-details-marker]:hidden">
                <span class="text-base md:text-lg leading-relaxed">{faq.question}</span>
                <svg
                  class="h-6 w-6 flex-shrink-0 text-[#476783] transition-transform duration-300 group-open:rotate-180"
                  fill="none"
                  stroke="currentColor"
                  viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </summary>
              <div class="mt-4 border-t border-[#d7c5aa]/30 pt-4 text-sm leading-relaxed text-[#1f2a35]/80 md:text-base">
                {faq.answer}
              </div>
            </details>
          ))}
        </div>

        <!-- Schema.org JSON-LD für FAQ -->
        <script type="application/ld+json" set:html={JSON.stringify({
          "@context": "https://schema.org",
          "@type": "FAQPage",
          "mainEntity": faqs.map(faq => ({
            "@type": "Question",
            "name": faq.question,
            "acceptedAnswer": {
              "@type": "Answer",
              "text": faq.answer
            }
          }))
        })} />
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="bg-gradient-to-b from-[#0A1A2F] to-[#1a2f45] py-20 md:py-28">
    <div class="container">
      <div class="mx-auto max-w-3xl space-y-8 text-center" data-aos="fade-up">
        <h2 class="text-h2-sm font-bold leading-tight text-white md:text-h2">
          Bereit für professionelles Hosting?
        </h2>
        <p class="text-lg text-white/80">
          Schnelle Ladezeiten, maximale Sicherheit und proaktive Wartung. Wir kümmern uns um Ihre Website in Ludwigshafen, Mannheim und der Metropolregion Rhein Neckar.
        </p>
        <div class="flex flex-wrap items-center justify-center gap-4">
          <CustomButton
            label="Kostenloses Erstgespräch"
            url="/#footer-with-contact"
            hoverEffect="creative-fill"
            class="btn-primary bg-[#f7b97d] border-[#f7b97d] text-[#0a1a2f] hover:bg-white hover:border-white hover:text-[#0a1a2f]"
          />
          <CustomButton
            label="E-Mail schreiben"
            url="mailto:kontakt@mydigitalworks.de"
            hoverEffect="creative-fill"
            class="btn-outline border-white text-white hover:bg-white hover:text-[#0a1a2f]"
          />
        </div>
      </div>
    </div>
  </section>

  <!-- Hosting Service Schema -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "ProfessionalService",
    "name": "MY Digital Works - Webhosting & Wartung",
    "description": "Professionelles Webhosting und Website-Wartung für Unternehmen in Ludwigshafen, Mannheim und der Metropolregion Rhein-Neckar",
    "url": "https://mydigitalworks.de/leistungen/webhosting-wartung",
    "areaServed": [
      {
        "@type": "City",
        "name": "Ludwigshafen"
      },
      {
        "@type": "City", 
        "name": "Mannheim"
      },
      {
        "@type": "AdministrativeArea",
        "name": "Rheinland-Pfalz"
      }
    ],
    "serviceType": [
      "Webhosting",
      "WordPress Hosting",
      "Website Wartung",
      "SSL-Zertifikate",
      "Website Sicherheit"
    ]
  })} />
</Base>

<style>
  /* ===== STRIPE & BENTOBOX EFFECTS ===== */
  
  /* Animated Top Stripe */
  .stripe-top {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 4px;
    background: linear-gradient(90deg, #476783, #648298, #f7b97d);
    background-size: 200% 100%;
    transform: scaleX(0);
    transform-origin: left;
    transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
  }

  .benefit-bento:hover .stripe-top,
  .group:hover .stripe-top {
    transform: scaleX(1);
    animation: shimmer 2s infinite;
  }

  @keyframes shimmer {
    0%, 100% {
      background-position: 0% 50%;
    }
    50% {
      background-position: 100% 50%;
    }
  }

  /* Bentobox Hover Effects */
  .benefit-bento {
    position: relative;
    transform-style: preserve-3d;
  }

  .benefit-bento::before {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 1.5rem;
    padding: 2px;
    background: linear-gradient(135deg, #476783, #f7b97d, #648298);
    -webkit-mask: 
      linear-gradient(#fff 0 0) content-box, 
      linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    opacity: 0;
    transition: opacity 0.5s ease;
  }

  .benefit-bento:hover::before {
    opacity: 0.6;
  }

  /* FAQ Details smooth animation */
  details > summary {
    list-style: none;
  }
  
  details[open] > summary ~ * {
    animation: slideDown 0.3s ease-out;
  }
  
  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Accessibility */
  @media (prefers-reduced-motion: reduce) {
    .stripe-top,
    .benefit-bento {
      transition: none;
      animation: none;
    }
  }
</style>